import Api from '@/api/api';

class authApi extends Api {
  constructor() {
    super();
  }

  async SignUp(name, email, password, passwordConfirm) {
    const response = await this.request(
      () =>
        this.http.post('/api/v1/users/signup', {
          name,
          email,
          password,
          passwordConfirm,
          role: 'user',
        }),
      {
        notify_success: true,
        notify_error: true,
      }
    );
    if (response.data.token) {
      return response.data.token;
    }
  }

  async Login(email, password) {
    const response = await this.request(
      () =>
        this.http.post('/api/v1/users/login', {
          email,
          password,
        }),
      {
        notify_success: true,
        notify_error: true,
      }
    );
    if (response.data.token) {
      return response.data.token;
    }
  }
}

export default new authApi();
