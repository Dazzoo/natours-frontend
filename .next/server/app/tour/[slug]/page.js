(()=>{var e={};e.id=559,e.ids=[559],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},56449:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>d,originalPathname:()=>c,pages:()=>o,routeModule:()=>x,tree:()=>m});var s=r(67096),a=r(16132),i=r(38438),l=r(32564),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let m=["",{children:["tour",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27447)),"D:\\Files\\Git_repo\\natours-frontend\\app\\tour\\[slug]\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,86786)),"D:\\Files\\Git_repo\\natours-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,80283)),"D:\\Files\\Git_repo\\natours-frontend\\app\\error.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\Files\\Git_repo\\natours-frontend\\app\\tour\\[slug]\\page.jsx"],c="/tour/[slug]/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tour/[slug]/page",pathname:"/tour/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},76231:(e,t,r)=>{Promise.resolve().then(r.bind(r,58165)),Promise.resolve().then(r.bind(r,17973)),Promise.resolve().then(r.bind(r,55723)),Promise.resolve().then(r.t.bind(r,46686,23)),Promise.resolve().then(r.bind(r,34751))},58165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(30784),a=r(9885),i=r(50951),l=r(75605),n=r(57114),m=r(39806);let __WEBPACK_DEFAULT_EXPORT__=function({tourId:e}){let{user:t,loggedOut:r,isLoading:o,mutate:c}=(0,i.Z)(),[d,x]=(0,a.useState)(null),{push:p}=(0,n.useRouter)(),handleBookTour=async()=>{x("Processing.."),t||p("/login");{let t=await m.Z.getCheckoutSession(e,window.localStorage?.jwt);String(t.status)?.startsWith("2")&&t.data.data.url&&p(t.data.data.url)}x(null)};return s.jsx(s.Fragment,{children:s.jsx(l.Z,{value:d||"BOOK TOUR NOW!",className:"min-w-[20rem]",onClick:handleBookTour})})}},17973:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(30784);r(9885);var a=r(42434);r(79110);var i=r(15816),l=r(52451),n=r.n(l);let __WEBPACK_DEFAULT_EXPORT__=function(e){let createPhotoPath=e=>e?`https://natours-back-end-f19a9ffbcdd5.herokuapp.com//${e.replace(/^public\\/,"")}`:null;return s.jsx("div",{className:" w-[100%] min-h-[40rem] select-none drag-none mr-[20%] relative",children:s.jsx(a.default,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1210,min:464},items:2},mobile:{breakpoint:{max:660,min:0},items:1}},swipeable:!0,draggable:!0,showDots:!0,arrows:!1,ssr:!0,infinite:!0,autoPlaySpeed:1e3,keyBoardControl:!0,rewind:!0,rewindWithAnimation:!0,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],dotListClass:"custom-dot-list-style-reviews  ",itemClass:"carousel-item-padding-40-px",children:e.reviews?.map((e,t)=>s.jsx("div",{children:s.jsxs("div",{className:"box-shadow-standard m-auto bg-white-alabaster rounded-[10px] w-[35rem] h-[35rem] flex flex-col content-center items-center  p-[5rem] mb-[5rem]",children:[s.jsxs("div",{className:" flex flex-col items-center ",children:[s.jsx("div",{className:"",children:s.jsx(n(),{className:"clip-path-circle w-full h-full max-w-[75px] max-h-[75px] ",width:75,height:75,src:createPhotoPath(e.user?.photo.path)||"/img/no-user-image.gif"})}),s.jsx("div",{className:"uppercase text-[1.65rem] font-semibold ml-[1rem] pr-[1.5rem]  mt-[1rem]",children:e?.user.name})]}),s.jsx("div",{className:"mt-[1rem]  h-[12rem] text-[1.5rem] italic overflow-hidden ",children:e.review}),s.jsx("div",{className:"inline-flex mt-[1rem]",children:[1,2,3,4,5].map(t=>Number(e?.rating)>=t?s.jsx(i.pHD,{className:"h-[2.5rem] w-[2.5rem] fill-green-emerald stroke-green-emerald stroke-3 "}):s.jsx(i.y5j,{className:"h-[2.5rem] w-[2.5rem] fill-green-emerald stroke-green-emerald stroke-3 "}))})]})},e.id))})})}},55723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,dynamic:()=>o,revalidate:()=>m});var s=r(30784),a=r(9885),i=r(35167),l=r.n(i);r(6793);var n=r(36661);l().accessToken="pk.eyJ1IjoiZGF6bzY1IiwiYSI6ImNsbWZoZmUyNzBxZjAzZXJ5aG5pc2FzbTkifQ.g3VGeiox7ukH5r_MDHTCyw";let m=!0,o="auto",__WEBPACK_DEFAULT_EXPORT__=({locations:e,className:t,boundsPadding:r,boundsPaddingForMobile:i})=>{let m=(0,a.useRef)(null),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{o.current=new(l()).Map({container:m.current,style:"mapbox://styles/mapbox/light-v11",center:e[0].coordinates,zoom:8});let t=new(l()).LngLatBounds;e.map(e=>{t.extend(e.coordinates)});let s=window.innerWidth<768&&i?i:null;return o.current.fitBounds(t,{padding:s||r}),e.map(e=>{new(l()).Marker().setLngLat(e.coordinates).addTo(o.current)}),()=>{o.current.remove()}},[e]),s.jsx(s.Fragment,{children:!e?.length>0?s.jsx("div",{className:"mt-[30vh]",children:s.jsx(n.Z,{})}):s.jsx("div",{children:s.jsx("div",{ref:m,className:`${t} min-h-[50rem] w-[100%]`})})})}},75605:(e,t,r)=>{"use strict";r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(30784);r(9885);let __WEBPACK_DEFAULT_EXPORT__=function({value:e,onClick:t,className:r}){return s.jsx("input",{className:`py-[1.25rem] text-[1.4rem] px-[3rem] bg-green-emerald rounded-[10rem] text-white flex self-center 
  uppercase hover:translate-y-[-2px] hover-button-shadow cursor-pointer transition duration-300 ${r}`,type:"submit",value:e,onClick:t})}},14671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(86996);let toursApi=class toursApi extends s.Z{constructor(){super()}async getTours(){let e=await this.request(()=>this.http.get("/api/v1/tours"));return e.data.data.data}async getTourBySlug(e){let t=await this.request(()=>this.http.get(`/api/v1/tours/params/${e}`));return t.data.data.data}};let a=new toursApi},27447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(4656);r(3542);var a=r(14671),i=r(58639),l=r.n(i),n=r(95153);let m=(0,n.createProxy)(String.raw`D:\Files\Git_repo\natours-frontend\app\tour\[slug]\ReviewsCarousel.jsx`),{__esModule:o,$$typeof:c}=m,d=m.default,x=(0,n.createProxy)(String.raw`D:\Files\Git_repo\natours-frontend\app\tour\[slug]\BookTour.jsx`),{__esModule:p,$$typeof:u}=x,h=x.default,g=(0,n.createProxy)(String.raw`D:\Files\Git_repo\natours-frontend\components\MapBox.jsx`),{__esModule:f,$$typeof:v}=g,j=g.default;g.revalidate,g.dynamic;var b=r(10026),w=r(74790);let _slug_TourPage=function({tour:e,reviews:t}){var r;let tourImgUrls=e=>`https://natours-back-end-f19a9ffbcdd5.herokuapp.com//img/tours/${e.path}`,createPhotoPath=e=>e?`https://natours-back-end-f19a9ffbcdd5.herokuapp.com//${e.replace(/^public\\/,"")}`:null;return s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative overflow-y-none ",children:[(0,s.jsxs)("div",{className:" absolute flex justify-between h-[100%] w-[100%] overflow-hidden z-[-1]",children:[s.jsx("div",{className:" w-[50%] bg-white-alabaster h-[100%]"}),s.jsx("div",{className:" w-[50%] "})]}),(0,s.jsxs)("div",{className:"rounded-[3px] bg-transperent relative font-lato",children:[s.jsx("div",{className:"clip-path-card before:bg-green-emerald-gradient before:absolute before:w-[100%] before:h-[100%] before:opacity-80 h-[25%] max-h-[85vh] ",children:s.jsx(l(),{width:3e3,height:2e3,src:`https://natours-back-end-f19a9ffbcdd5.herokuapp.com//img/tours/${e.imageCover.path}`})}),s.jsx("div",{className:"flex w-[100%] justify-center text-white-alabaster",children:(0,s.jsxs)("div",{className:"absolute z-20 top-[16%] max-sm:top-[8%] max-lg:top-[11%] w-[55rem] max-sm:w-[30rem] text-center ",children:[s.jsx("h1",{className:"text-[5.5rem] max-sm:text-[3rem] ",children:(0,s.jsxs)("span",{className:"  bg-green-emerald-gradient-85 box-decoration-clone py-[1rem] px-[1.5rem] uppercase ",children:[e.name,"\xa0tour"]})}),(0,s.jsxs)("div",{className:"flex justify-around  absolute w-[100%] text-[1.8rem] max-sm-text-[1rem] uppercase font-semibold py-[3rem]",children:[s.jsx("div",{className:"",children:(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(b.cjn,{className:"h-[3rem] w-[3rem] "}),"\xa0",e.duration," days"]})}),s.jsx("div",{className:"",children:(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(w.kXE,{className:"h-[3rem] w-[3rem] "}),"\xa0",e.startLocation.description]})})]})]})})]}),(0,s.jsxs)("div",{className:" flex justify-between ",children:[s.jsx("div",{className:" w-[50%] bg-white-alabaster h-[100%] mx-[2rem]",children:(0,s.jsxs)("div",{className:"h-[100%] flex flex-col  items-center mt-[4rem] min-h-[80rem]",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"uppercase font-bold max-sm:text-center text-[2.6rem] bg-green-emerald-gradient bg-clip-text text-transparent mb-[2.5rem] mt-[3rem]",children:"Quick facts"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"inline-flex max-sm:flex-col  items-center content-center  mb-[1.5rem]",children:[s.jsx("span",{className:"pr-[0.8rem]",children:s.jsx(b.xHR,{className:"h-[3rem] w-[3rem] fill-green-emerald stroke-green-emerald stroke-3 "})}),s.jsx("span",{className:"uppercase text-[1.85rem] font-semibold pr-[1.5rem]",children:"Next date"}),s.jsx("span",{className:"text-[1.65rem] font-normal ",children:(e=>{let t=new Date(e.startDates[0]),r=t.getFullYear(),s=t.toLocaleString("en-US",{month:"long"});return`${s} ${r}`})(e)})]}),(0,s.jsxs)("div",{className:"inline-flex max-sm:flex-col items-center content-center  mb-[1.5rem]",children:[s.jsx("span",{className:"pr-[0.8rem]",children:s.jsx(b.VSC,{className:"h-[3rem] w-[3rem] fill-green-emerald stroke-green-emerald stroke-3 "})}),s.jsx("span",{className:"uppercase text-[1.85rem] font-semibold pr-[1.5rem]",children:"Difficulty"}),s.jsx("span",{className:"text-[1.65rem] font-normal ",children:(r=e.difficulty).charAt(0).toUpperCase()+r.slice(1)})]}),(0,s.jsxs)("div",{className:"inline-flex max-sm:flex-col  items-center content-center  mb-[1.5rem]",children:[s.jsx("span",{className:"pr-[0.8rem]",children:s.jsx(w.FJ3,{className:"h-[3rem] w-[3rem] fill-green-emerald stroke-green-emerald stroke-3 "})}),s.jsx("span",{className:"uppercase text-[1.85rem] font-semibold pr-[1.5rem]",children:"Participants"}),(0,s.jsxs)("span",{className:"text-[1.65rem] font-normal ",children:[e.maxGroupSize," people"]})]}),(0,s.jsxs)("div",{className:"inline-flex max-sm:flex-col  items-center content-center  mb-[1.5rem]",children:[s.jsx("span",{className:"pr-[0.8rem]",children:s.jsx(b.y5j,{className:"h-[3rem] w-[3rem] fill-green-emerald stroke-green-emerald stroke-3 "})}),s.jsx("span",{className:"uppercase text-[1.85rem] font-semibold pr-[1.5rem]",children:"Rating"}),(0,s.jsxs)("span",{className:"text-[1.65rem] font-normal ",children:[e.ratingsAverage?.toFixed(2)," / 5"]})]})]})]}),(0,s.jsxs)("div",{className:"mt-[7rem] flex flex-col mb-[8rem] ",children:[s.jsx("div",{className:"uppercase font-bold max-sm:text-center text-[2.6rem] bg-green-emerald-gradient bg-clip-text text-transparent mb-[2.5rem] mt-[3rem]",children:"Your tour guides"}),e.guides.map(e=>(0,s.jsxs)("div",{className:"inline-flex max-sm:flex-col  items-center content-center  mb-[1.5rem]",children:[s.jsx("span",{className:"ml-[-1rem]",children:s.jsx(l(),{className:"clip-path-circle",width:50,height:50,src:createPhotoPath(e?.photo.path)||"/img/no-user-image.gif"})}),s.jsx("span",{className:"uppercase text-[1.85rem] font-semibold ml-[1rem] pr-[1.5rem]",children:e.role}),s.jsx("span",{className:"text-[1.65rem] font-normal ",children:e.name})]}))]})]})}),s.jsx("div",{className:" w-[50%] flex justify-center",children:(0,s.jsxs)("div",{className:" mt-[4rem] flex flex-col mb-[8rem] max-w-[70%]",children:[s.jsx("div",{className:"uppercase font-bold text-[2.6rem] bg-green-emerald-gradient bg-clip-text text-transparent mb-[2.5rem] mt-[3rem]",children:"About the sport lover"}),s.jsx("div",{className:"text-[1.6rem] ",children:e.description})]})})]}),s.jsx("div",{className:"max-md:hidden h-[30vw] max-md:h-max   w-[100%] bb  inline-flex flex-row max-md:flex-col clip-path-card-both relative z-[20]",children:e.images.map(e=>s.jsx(l(),{className:"w-[34%] max-md:w-[100%]",height:1e3,width:1e3,src:tourImgUrls(e)||"/img/beach.jpg"}))}),s.jsx("div",{className:" bg-white-alabaster h-[120rem]  relative top-[-20rem] max-md:top-[0rem] z-[10] pointer-events-all pt-[0rem] max-md-clip-path-card",children:s.jsx(j,{locations:e?.locations,className:"h-[100rem] max-md:h-[120rem] pointer-events-all",boundsPaddingForMobile:100,boundsPadding:300})}),s.jsx("div",{className:" bg-white-alabaster h-[40rem]  relative z-[20]",children:(0,s.jsxs)("div",{className:"bg-green-emerald-gradient clip-path-card-both  h-[100rem]  relative top-[-65rem] w-[100%]  flex content-center items-center ",children:[s.jsx("div",{className:"   h-[100%]  overflow-y-hidden "}),s.jsx(d,{reviews:t})]})}),s.jsx("div",{className:" bg-white-alabaster mt-[0rem] max-md:mt-[-15%] h-[60rem] w-[100%] relative top-0 flex justify-center items-center ",children:(0,s.jsxs)("div",{className:"box-shadow-bold-x2 w-[80%] max-md:w-[85%] h-[30rem]   rounded-[20px] flex justify-between items-center overflow-hidden relative px-[5rem] py-[5rem] max-xl:flex-col max-xl:h-auto",children:[s.jsx("div",{className:"clip-box-shadow-bold-x2 max-2xl:hidden h-[100%] flex items-center justify-center ml-[-10rem] relative z-20 select-none drag-none",children:s.jsx("div",{className:"bg-green-emerald-gradient clip-path-circle h-[70%] flex items-center justify-center relative ",children:s.jsx(l(),{className:"w-[50%] max-md:w-[40%] ",src:"/img/logo-white.png",width:500,height:500,alt:"Logo"})})}),s.jsx("div",{className:"clip-box-shadow-bold-x2 max-2xl:hidden h-[70%] flex items-center justify-center ml-[-24rem] absolute z-10 select-none drag-none",children:s.jsx("div",{className:"bg-white-alabaster clip-path-circle h-[70%] flex items-center justify-center  z-10 left-[0rem] opacity-80",children:s.jsx(l(),{className:"w-[50%] max-md:w-[40%] ",src:tourImgUrls(e.images[0]),width:500,height:500,alt:"Tour image 1"})})}),s.jsx("div",{className:"clip-box-shadow-bold-x2 max-2xl:hidden h-[70%] flex items-center justify-center ml-[-20rem] absolute z-0 select-none drag-none",children:s.jsx("div",{className:"bg-white-alabaster clip-path-circle h-[70%] flex items-center justify-center  z-10 left-[0rem] opacity-80",children:s.jsx(l(),{className:"w-[50%] max-md:w-[40%]",src:tourImgUrls(e.images[1]),width:500,height:500,alt:"Tour image 2"})})}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"uppercase font-bold max-sm:text-center  text-[3.2rem] max-2xl:text-[2.7rem] bg-green-emerald-gradient bg-clip-text text-transparent max-xl:text-center ",children:"What are you waiting for?"}),(0,s.jsxs)("div",{className:"text-[2.5rem] max-2xl:text-[2rem] font-normal  max-xl:text-center",children:[e.duration," days. 1 adventure. Infinite memories. Make it yours today!"]})]}),s.jsx("div",{className:" max-xl:flex-col max-xl:pt-[3rem]",children:s.jsx(h,{tourId:e._id})})]})})]})})};var N=r(86996);let reviewsApi_toursApi=class reviewsApi_toursApi extends N.Z{constructor(){super()}async getReviewsByTourId(e,t){let r=await this.request(()=>this.http.get(`/api/v1/tours/${e}/reviews`));if(r)return r.data.data.data}};let _=new reviewsApi_toursApi;async function page({params:e}){let{slug:t}=e,r=await a.Z.getTourBySlug(t),i=await _.getReviewsByTourId(r.id);return s.jsx(s.Fragment,{children:s.jsx(_slug_TourPage,{params:e,tour:r,reviews:i})})}r(68919);let y=page}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[993,323,816,966,348,166,115],()=>__webpack_exec__(56449));module.exports=r})();